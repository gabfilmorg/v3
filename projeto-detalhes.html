<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>filmORG - Detalhes do Projeto</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    
    <style>
        :root {
            --deep-space: #1A1B2E;
            --neon-blue: #00F5FF;
            --neon-purple: #B15EFF;
            --cyber-green: #00FFB2;
            --cyber-yellow: #FFD60A;
            --cyber-red: #FF5E5E;
            --soft-white: #F4F7FF;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.05);
            --gradient-primary: linear-gradient(135deg, var(--neon-blue), var(--neon-purple));
            --gradient-success: linear-gradient(135deg, var(--cyber-green), var(--neon-blue));
            --glass-blur: blur(10px);
            --neon-shadow: 0 0 15px rgba(0, 245, 255, 0.5);
            --card-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
            --border-radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
        }

        body {
            background-color: var(--deep-space);
            color: var(--soft-white);
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 245, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(177, 94, 255, 0.1) 0%, transparent 20%);
            background-attachment: fixed;
        }

        .project-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }

        .project-header {
            background: rgba(26, 27, 46, 0.8);
            backdrop-filter: var(--glass-blur);
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid var(--glass-border);
        }

        .project-title-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .project-title {
            font-size: 32px;
            font-weight: 600;
        }

        .project-status {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }

        .project-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .meta-icon {
            font-size: 24px;
            color: var(--neon-blue);
        }

        .meta-label {
            font-size: 12px;
            opacity: 0.7;
        }

        .meta-value {
            font-size: 14px;
            font-weight: 500;
        }

        .project-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .section-card {
            background: rgba(26, 27, 46, 0.8);
            backdrop-filter: var(--glass-blur);
            border-radius: var(--border-radius);
            padding: 20px;
            border: 1px solid var(--glass-border);
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: var(--neon-blue);
        }

        .team-list, .equipment-list {
            display: grid;
            gap: 10px;
        }

        .member-card, .equipment-card {
            background: var(--glass-bg);
            padding: 15px;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .member-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .member-info, .equipment-info {
            flex: 1;
        }

        .member-name, .equipment-name {
            font-weight: 500;
            margin-bottom: 5px;
        }

        .member-role, .equipment-status {
            font-size: 12px;
            opacity: 0.7;
        }

        .schedule-timeline {
            display: grid;
            gap: 15px;
        }

        .timeline-item {
            background: var(--glass-bg);
            padding: 15px;
            border-radius: var(--border-radius);
            display: grid;
            gap: 10px;
        }

        .timeline-date {
            font-size: 14px;
            font-weight: 500;
            color: var(--neon-blue);
        }

        .timeline-title {
            font-weight: 500;
        }

        .timeline-description {
            font-size: 14px;
            opacity: 0.7;
        }

        .budget-overview {
            display: grid;
            gap: 15px;
        }

        .budget-total {
            font-size: 24px;
            font-weight: 600;
            color: var(--cyber-green);
        }

        .budget-item {
            background: var(--glass-bg);
            padding: 15px;
            border-radius: var(--border-radius);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .budget-item-info {
            flex: 1;
        }

        .budget-item-title {
            font-weight: 500;
            margin-bottom: 5px;
        }

        .budget-item-description {
            font-size: 12px;
            opacity: 0.7;
        }

        .budget-item-value {
            font-weight: 500;
            color: var(--cyber-green);
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: var(--border-radius);
            border: none;
            cursor: pointer;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: var(--soft-white);
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--neon-blue);
            color: var(--neon-blue);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--neon-shadow);
        }

        @media (max-width: 768px) {
            .project-meta {
                grid-template-columns: 1fr 1fr;
            }

            .project-sections {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="project-container">
        <div class="project-header">
            <div class="project-title-section">
                <h1 class="project-title" id="projectTitle">Carregando...</h1>
                <span class="project-status" id="projectStatus"></span>
            </div>
            <div class="project-meta" id="projectMeta">
                <!-- Metadados do projeto serão inseridos aqui -->
            </div>
        </div>

        <div class="project-sections">
            <div class="section-card">
                <h2 class="section-title"><i class="ri-team-line"></i> Equipe</h2>
                <div class="team-list" id="teamList">
                    <!-- Lista de membros da equipe será inserida aqui -->
                </div>
            </div>

            <div class="section-card">
                <h2 class="section-title"><i class="ri-camera-line"></i> Equipamentos</h2>
                <div class="equipment-list" id="equipmentList">
                    <!-- Lista de equipamentos será inserida aqui -->
                </div>
            </div>

            <div class="section-card">
                <h2 class="section-title"><i class="ri-calendar-line"></i> Cronograma</h2>
                <div class="schedule-timeline" id="scheduleTimeline">
                    <!-- Cronograma será inserido aqui -->
                </div>
            </div>

            <div class="section-card">
                <h2 class="section-title"><i class="ri-money-dollar-circle-line"></i> Orçamento</h2>
                <div class="budget-overview" id="budgetOverview">
                    <!-- Orçamento será inserido aqui -->
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button class="btn btn-primary" onclick="editProject()">
                <i class="ri-edit-line"></i> Editar Projeto
            </button>
            <button class="btn btn-outline" onclick="window.history.back()">
                <i class="ri-arrow-left-line"></i> Voltar
            </button>
        </div>
    </div>

    <script>
        // Funções auxiliares
        function getStatusClass(status) {
            const classes = {
                'pitch': 'status-planning',
                'planning': 'status-planning',
                'preproduction': 'status-planning',
                'production': 'status-active',
                'postproduction': 'status-active',
                'completed': 'status-completed',
                'archived': 'status-completed'
            };
            return classes[status] || '';
        }

        function getStatusLabel(status) {
            const labels = {
                'pitch': 'Proposta/Pitch',
                'planning': 'Em Planejamento',
                'preproduction': 'Pré-Produção',
                'production': 'Em Produção',
                'postproduction': 'Pós-Produção',
                'completed': 'Concluído',
                'archived': 'Arquivado'
            };
            return labels[status] || 'Desconhecido';
        }

        function formatDate(dateString) {
            if (!dateString) return 'N/A';
            const date = new Date(dateString);
            return date.toLocaleDateString('pt-BR');
        }

        function formatCurrency(value) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(value);
        }

        // Carregar dados do projeto
        async function loadProjectDetails() {
            // Obter ID do projeto da URL
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('id');

            if (!projectId) {
                window.location.href = 'projetos.html';
                return;
            }

            try {
                // Simular chamada à API (substituir por chamada real)
                const project = projects.find(p => p.id === projectId);
                
                if (!project) {
                    throw new Error('Projeto não encontrado');
                }

                // Atualizar título e status
                document.getElementById('projectTitle').textContent = project.basicInfo.title;
                const statusElement = document.getElementById('projectStatus');
                statusElement.textContent = getStatusLabel(project.basicInfo.status);
                statusElement.className = `project-status ${getStatusClass(project.basicInfo.status)}`;

                // Atualizar metadados
                const metaHtml = `
                    <div class="meta-item">
                        <i class="meta-icon ri-calendar-line"></i>
                        <div>
                            <div class="meta-label">Período</div>
                            <div class="meta-value">${formatDate(project.basicInfo.startDate)} - ${formatDate(project.basicInfo.endDate)}</div>
                        </div>
                    </div>
                    <div class="meta-item">
                        <i class="meta-icon ri-user-line"></i>
                        <div>
                            <div class="meta-label">Cliente</div>
                            <div class="meta-value">${project.basicInfo.client || 'Não especificado'}</div>
                        </div>
                    </div>
                    <div class="meta-item">
                        <i class="meta-icon ri-pie-chart-line"></i>
                        <div>
                            <div class="meta-label">Progresso</div>
                            <div class="meta-value">${project.basicInfo.progress}%</div>
                        </div>
                    </div>
                `;
                document.getElementById('projectMeta').innerHTML = metaHtml;

                // Atualizar equipe
                const teamHtml = project.team ? project.team.map(member => `
                    <div class="member-card">
                        <div class="member-avatar">${member.name.charAt(0)}</div>
                        <div class="member-info">
                            <div class="member-name">${member.name}</div>
                            <div class="member-role">${member.role}</div>
                        </div>
                    </div>
                `).join('') : '<p>Nenhum membro na equipe</p>';
                document.getElementById('teamList').innerHTML = teamHtml;

                // Atualizar equipamentos
                const equipmentHtml = project.equipment ? project.equipment.map(item => `
                    <div class="equipment-card">
                        <div class="equipment-info">
                            <div class="equipment-name">${item.name}</div>
                            <div class="equipment-status">${item.status}</div>
                        </div>
                    </div>
                `).join('') : '<p>Nenhum equipamento registrado</p>';
                document.getElementById('equipmentList').innerHTML = equipmentHtml;

                // Atualizar cronograma
                const scheduleHtml = project.schedule ? project.schedule.map(item => `
                    <div class="timeline-item">
                        <div class="timeline-date">${formatDate(item.date)}</div>
                        <div class="timeline-title">${item.title}</div>
                        <div class="timeline-description">${item.description}</div>
                    </div>
                `).join('') : '<p>Nenhum evento agendado</p>';
                document.getElementById('scheduleTimeline').innerHTML = scheduleHtml;

                // Atualizar orçamento
                let budgetHtml = '';
                if (project.budget) {
                    budgetHtml = `
                        <div class="budget-total">Total: ${formatCurrency(project.budget.total)}</div>
                        ${project.budget.items.map(item => `
                            <div class="budget-item">
                                <div class="budget-item-info">
                                    <div class="budget-item-title">${item.description}</div>
                                    <div class="budget-item-description">${item.category}</div>
                                </div>
                                <div class="budget-item-value">${formatCurrency(item.value)}</div>
                            </div>
                        `).join('')}
                    `;
                } else {
                    budgetHtml = '<p>Nenhum item no orçamento</p>';
                }
                document.getElementById('budgetOverview').innerHTML = budgetHtml;

            } catch (error) {
                console.error('Erro ao carregar detalhes do projeto:', error);
                alert('Erro ao carregar detalhes do projeto. Por favor, tente novamente.');
            }
        }

        // Função para editar projeto
        function editProject() {
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('id');
            window.location.href = `projetos.html?edit=${projectId}`;
        }

        // Carregar detalhes do projeto quando a página carregar
        window.addEventListener('load', loadProjectDetails);
    </script>
</body>
</html> 